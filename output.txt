[?1049h[22;0;0t[1;55r(B[m[4l[?7h[39;49m[?1h=[?1h=[?1h=[?25l[39;49m(B[m[H[2J[53;91H(B[0;7m[ Lecture du fichier ](B[m[53;90H(B[0;7m[ Lecture de 46 lignes ](B[m[H(B[0;7m  GNU nano 3.2                                                                                     script.py                                                                                               [1;202H(B[m[54d(B[0;7m^G(B[m Aide[54;17H(B[0;7m^O(B[m Écrire[33G(B[0;7m^W(B[m Chercher     (B[0;7m^K(B[m Couper[65G(B[0;7m^J(B[m Justifier    (B[0;7m^C(B[m Pos. cur.    (B[0;7mM-U(B[m Annuler     (B[0;7mM-A(B[m Marquer     (B[0;7mM-](B[m Parenthèse c(B[0;7mM-Q(B[m Précédent   (B[0;7m^B(B[m En arrière   (B[0;7m^◀(B[m Mot précédent[55d(B[0;7m^X(B[m Quitter[17G(B[0;7m^R(B[m Lire fich.   (B[0;7m^\(B[m Remplacer    (B[0;7m^U(B[m Coller[65G(B[0;7m^T(B[m Orthograp.   (B[0;7m^_(B[m Aller lig.   (B[0;7mM-E(B[m Refaire     (B[0;7mM-6(B[m Copier[129G(B[0;7m^Q(B[m Retrouver    (B[0;7mM-W(B[m Suivant     (B[0;7m^F(B[m En avant     (B[0;7m^▶(B[m Mot suivant[53d[3d(B[0;1m[36mfrom[39m(B[m jiant.proj.simple (B[0;1m[36mimport[39m(B[m runscript (B[0;1m[36mas[39m(B[m run[4d(B[0;1m[36mimport[39m(B[m jiant.scripts.download_data.runscript (B[0;1m[36mas[39m(B[m downloader[5d(B[0;1m[36mimport[39m(B[m numpy (B[0;1m[36mas[39m(B[m np[6d(B[0;1m[36mfrom[39m(B[m ray (B[0;1m[36mimport[39m(B[m tune[7d(B[0;1m[36mfrom[39m(B[m ray.tune.schedulers (B[0;1m[36mimport[39m(B[m ASHAScheduler[10dEXP_DIR = (B[0;1m[32m"td/try"[12d[31m# Download the Data[14d[39m(B[mtasks = [(B[0;1m[32m"rte"[39m(B[m, (B[0;1m[32m"wic"[39m(B[m, (B[0;1m[32m"wsc"[39m(B[m, (B[0;1m[32m"mrpc"[39m(B[m][16d(B[0;1m[31m#downloader.download_data(tasks, f"{EXP_DIR}/tasks")[18d[39m(B[mtask = (B[0;1m[32m"mrpc"[19d[31m#for task in tasks:[20d[36mdef[34m train_jiant[39m(B[m(config):[21;9Hdownloader.download_data([(B[0;1m[32m"mrpc"[39m(B[m], f(B[0;1m[32m"{EXP_DIR}/tasks"[39m(B[m)[23d(B[0;1m[31m# Set up the arguments for the Simple API[24;9H[39m(B[margs = run.RunConfiguration([25;12Hrun_name=(B[0;1m[32m"simple"[39m(B[m,[26;12Hexp_dir=EXP_DIR,[27;12Hdata_dir=f(B[0;1m[32m"{EXP_DIR}/tasks"[39m(B[m,[28;12Hhf_pretrained_model_name_or_path=(B[0;1m[32m"roberta-base"[39m(B[m,[29;12Htasks=(B[0;1m[32m'mrpc'[39m(B[m,[30;12Htrain_batch_size=16,[31;17Hnum_train_epochs=3,[32;17Hlearning_rate=config[(B[0;1m[32m"lr"[39m(B[m][33;9H)[35d(B[0;1m[31m[1K # Run![36;9H[39m(B[mrun.run_simple(args)[39dsearch_space = {[40;5H(B[0;1m[32m"lr"[39m(B[m: tune.sample_from((B[0;1m[36mlambda[39m(B[m spec: 10**(-10 * np.random.rand()))[41d}[44danalysis = tune.run(train_jiant, config=search_space, resources_per_trial={(B[0;1m[32m"gpu"[39m(B[m: 4})[46ddfs = analysis.trial_dataframes[47dprint([d.mean_accuracy (B[0;1m[36mfor[39m(B[m d (B[0;1m[36min[39m(B[m dfs.values()])[48dprint(dfs)[3d[?12l[?25h[?25l[53;76H(B[0;7m[ ligne 1/47 (2%), col. 1/47 (2%), car. 0/1044 (0%) ](B[m[3d[?12l[?25h[?25l[53;129H[3d[?12l[?25h[?25l[53;129H[3d[?12l[?25h[?25l[53;129H[3d[?12l[?25h[?25l[53;129H[3d[?12l[?25h[?25l[53;129H[3d[?12l[?25h[?25l[1;195H(B[0;7mModifié(B[m[3dnfrom jiant.proj.simple (B[0;1m[36mimport[39m(B[m runscript (B[0;1m[36mas[39m(B[m runn[?12l[?25h[?25lafrom jiant.proj.simple (B[0;1m[36mimport[39m(B[m runscript (B[0;1m[36mas[39m(B[m runna[?12l[?25h[?25lnfrom jiant.proj.simple (B[0;1m[36mimport[39m(B[m runscript (B[0;1m[36mas[39m(B[m runnan[?12l[?25h[?25l[53;100H(B[0;7m4/50 (8[53;116H3/1047[129G(B[m[3;4H[?12l[?25h[?25l[53;129H[3;4H[?12l[?25h[?25l[53;129H[3;4H[?12l[?25h[?25l[53;129H[3;4H[?12l[?25h[?25l[53;129H[3;4H[?12l[?25h[?25lefrom jiant.proj.simple (B[0;1m[36mimport[39m(B[m runscript (B[0;1m[36mas[39m(B[m run[5G[?12l[?25h[?25lxfrom jiant.proj.simple (B[0;1m[36mimport[39m(B[m runscript (B[0;1m[36mas[39m(B[m run[6G[?12l[?25h[?25lifrom jiant.proj.simple (B[0;1m[36mimport[39m(B[m runscript (B[0;1m[36mas[39m(B[m run[7G[?12l[?25h[?25ltfrom jiant.proj.simple (B[0;1m[36mimport[39m(B[m runscript (B[0;1m[36mas[39m(B[m run[8G[?12l[?25h[?25l[2;52r[2;1HM[1;55r[3;1Hnanexit[4d(B[0;1m[36mfrom[39m(B[m[7P[?12l[?25h[?25l[53;84H(B[0;7m2/48 (4[53;100H1/47 (2[53;116H8/1052[129G(B[m[4d[?12l[?25h[?25l[53;129H[4d[?12l[?25h[55;1H[?1049l[23;0;0t[?1l>